<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">


  <title>James Hamann</title>
  <meta name="description" content="Software Developer">
  <meta name="author" content="James Hamann">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="James Hamann">
  <meta name="twitter:description" content="Software Developer">

  <meta property="og:type" content="article">
  <meta property="og:title" content="James Hamann">
  <meta property="og:description" content="Software Developer">

  <link rel="apple-touch-icon" sizes="57x57" href="/images/favicons/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/images/favicons/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/images/favicons/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/images/favicons/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/images/favicons/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/images/favicons/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/images/favicons/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/images/favicons/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicons/apple-touch-icon-180x180.png">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-194x194.png" sizes="194x194">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/images/favicons/android-chrome-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="/images/favicons/manifest.json">
  <link rel="shortcut icon" href="/images/favicons/favicon.ico">
  <meta name="msapplication-TileColor" content="#ffc40d">
  <meta name="msapplication-TileImage" content="/images/favicons/mstile-144x144.png">
  <meta name="theme-color" content="#ffffff">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="jameshamann.com//">
  <link rel="alternate" type="application/rss+xml" title="James Hamann" href="/feed.xml">
</head>


  <body>
    <span class="mobile btn-mobile-menu">
  <i class="icon icon-list btn-mobile-menu__icon"></i>
  <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
</span>

<header class="panel-cover" style="background-image: url(/images/cover.jpg)">
  <div class="panel-main">

    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">
        <a href="/" title="link to home of James Hamann">
          <img src="/images/profile.jpg" class="user-image" alt="My Profile Photo">
          <h1 class="panel-cover__title panel-title">James Hamann</h1>
        </a>
        <hr class="panel-cover__divider">
        <p class="panel-cover__description">Software Developer</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary">

        <div class="navigation-wrapper">

          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">
              <li class="navigation__item"><a href="/#blog" title="link to James Hamann blog" class="blog-button">Blog</a></li>
            </ul>
          </nav>

          <nav class="cover-navigation navigation--social">
            <ul class="navigation">

            
              <!-- Facebook -->
              <li class="navigation__item">
                <a href="http://fb.me/james.hamann.50" title="james.hamann.50 on Facebook" target="_blank">
                  <i class="icon icon-social-facebook"></i>
                  <span class="label">Facebook</span>
                </a>
              </li>
            

            
              <!-- Medium -->
              <li class="navigation__item">
                <a href="https://www.instagram.com/jameshamann" title="jameshamann on Instagram" target="_blank">
                  <i class="icon icon-social-instagram"></i>
                  <span class="label">Instagram</span>
                </a>
              </li>
            

            
              <!-- GitHub -->
              <li class="navigation__item">
                <a href="https://www.github.com/jameshamann" title="jameshamann on GitHub" target="_blank">
                  <i class="icon icon-social-github"></i>
                  <span class="label">GitHub</span>
                </a>
              </li>
            


            
              <!-- Instagram -->
              <li class="navigation__item">
                <a href="https://www.bandcamp.com/jameshamann" title="jameshamann on Bandcamp" target="_blank">
                <i class="icon icon-music"></i>
                  <span class="label">Bandcamp</span>
                </a>
              </li>
            

            
              <!-- Email -->
              <li class="navigation__item">
                <a href="mailto:jameshamann@me.com" title="Email jameshamann@me.com" target="_blank">
                  <i class="icon icon-mail"></i>
                  <span class="label">Email</span>
                </a>
              </li>
            

            <!-- RSS -->
            <li class="navigation__item">
              <a href="/feed.xml" title="Subscribe" target="_blank">
                <i class="icon icon-rss"></i>
                <span class="label">RSS</span>
              </a>
            </li>

            </ul>
          </nav>

        </div>

      </div>

    </div>

    <div class="panel-cover--overlay"></div>
  </div>
</header>


    <div class="content-wrapper">
      <div class="content-wrapper__inner">
        <div class="main-post-list">

  <ol class="post-list">
    <h1>Blog</h1>
    
    <h3>Rails 5 API, React, Bitbucket Pipelines and AWS Elastic Beanstalk — Part One</h3>
    <p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*vNHKJnEg6gu9ajO-Ubw2xw.png" /></figure><p>In this post we’ll be setting up a new Rails JSON API app, with a React front end. We’ll also cover how to setup a CI/CD pipeline using Bitbucket Pipelines and AWS Elastic Beanstalk.</p><h4>Technology and Versions</h4><ul><li>Ruby 2.4.2</li><li>Rails 5.1.4</li><li>Postgresql 9.6</li><li>React 16.0.0 (<a href="https://github.com/facebookincubator/create-react-app">Create React App</a>)</li><li>Bitbucket Pipelines</li><li>AWS Elastic Beanstalk — 64bit Amazon Linux 2017.09 v2.6.0 running Ruby 2.4 (Puma)</li></ul><h4>Overview</h4><p>The end goal we’re all aiming for is to have a Rails 5 API app using Postgres, with a React front end, setup with a CI/CD pipeline through Bitbucket that automatically deploys our app to our Beanstalk instance. Simple right? Well, it is!</p><h4>Prerequisites</h4><ul><li>Basic knowledge of using Terminal</li><li>Basic Experience with Rails and React (Don’t worry if you don’t!)</li><li><a href="https://bitbucket.org/">Bitbucket</a> account setup, with a repo created for your app. Feel free to use Github and CircleCI or Travis, however these configurations won’t be covered in this post. If you get stuck, please don’t hesitate to reach out and ask for help!</li><li><a href="https://aws.amazon.com/">AWS Account</a></li></ul><h3>Setting up Rails API</h3><p>First things first, we need to setup our Rails backend.</p><pre><strong>#bash</strong></pre><pre>$ rails new myapp --database=postgresql --api</pre><p>Navigate into your newly created app directory and boot the server up, you should get the all too familiar Rails Welcome Screen.</p><pre>#bash</pre><pre>$ cd myapp<br>$ rails s<br>$ =&gt; Booting Puma<br>$ =&gt; Rails 5.1.4 application starting in development<br>$ =&gt; Run `rails server -h` for more startup options<br>$ Puma starting in single mode...<br>$ * Version 3.10.0 (ruby 2.4.2-p198), codename: Russell&#39;s Teapot<br>$ * Min threads: 5, max threads: 5<br>$ * Environment: development<br>$ * Listening on tcp://0.0.0.0:3000<br>$ Use Ctrl-C to stop</pre><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*HJzlfl0h5lwnXfllHxMqvQ.png" /><figcaption>Yay! We’re on Rails!</figcaption></figure><p>Next, we’re gonna want to install rspec as our testing suite, because we’re good and we write tests before coding, right?</p><p>Add the gem <strong>rspec-rails </strong>to your gemfile, bundle and then install it with rails. Along with this we’ll need the gem <strong>rails_serve_static_assets </strong>so our react front end is served correctly when built and deployed.</p><pre><strong>#bash</strong></pre><pre># add gem &#39;rspec-rails&#39; and gem &#39;rails_serve_static_assets&#39; to your gemfile in your app&#39;s root.</pre><pre>$ bundle install<br>$ rails g rspec:install<br>$ rspec</pre><pre>Finished in 0.00031 seconds (files took 0.09378 seconds to load)<br>0 examples, 0 failures</pre><p>Now we’ve got our skeleton, lets push it up to our Bitbucket Repo and setup our build pipeline.</p><pre><strong>#bash</strong></pre><pre>#cd into your app&#39;s root </pre><pre>$ git add .<br>$ git commit -m &#39;first commit, initial project setup&#39;<br>$ git remote add origin git@bitbucket.org:yourusername/myapp.git<br>$ git push -u origin master</pre><h3>CI/CD Pipeline Setup</h3><p>First you’ll need to enable pipeline builds, to do this click <strong>Settings</strong> from the sidebar and toggle the <strong>Enable Pipelines</strong> switch to its active state.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*rqsWYbSf7OVr2be6SwJ0GA.png" /><figcaption>Enable Pipelines!</figcaption></figure><p>Once your project is on Bitbucket, hit the <strong>Pipelines</strong> button on the sidebar and choose Ruby from the dropdown language template selections.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*Tugpp_jWRqI4j6-jQ0EV6g.png" /><figcaption>Copy and Paste/Commit the File to trigger a build — make sure the Ruby version is correct</figcaption></figure><p>Copy the file and paste the contents in a newly created <strong>bitbucket-pipelines.yml </strong>file within the root of your app, ensure you’ve stated the correct Ruby version (<strong>2.4.2)</strong>. Once committed and pushed, a build will commence.</p><pre><strong>#bash</strong></pre><pre>$ touch bitbucket-piplines.yml</pre><pre># copy the template contents into your newly created file</pre><pre>$ git add .<br>$ git commit -m &#39;adds bitbucket-pipelines.yml and triggers first build&#39;<br>$ git push origin master</pre><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*W9cpvpFerPi8W1CjIMnN_w.png" /><figcaption>Our first successful (pointless) build!</figcaption></figure><p>At this stage, it’d be useful to add our AWS Keys so that Bitbucket can successfully deploy our app to Elastic Beanstalk. Click the <strong>Settings </strong>button and add both your <strong>AWS_ACCESS_KEY_ID </strong>and your <strong>AWS_SECRET_ACCESS_KEY</strong> to the <strong>Environment Variables </strong>section on the Settings tab. This is available from the <strong>My Security Credentials </strong>dropdown on your AWS Console, when hovering over your username in the top right. If you haven’t, you should really setup an IAM user. You shouldn’t really be using your Root Account Access Keys — but that’s out of scope for this post, if you want to see how to setup an IAM user head <a href="http://docs.aws.amazon.com/lambda/latest/dg/setting-up.html">here</a>.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*snZTl-vmwRQy775elMRiyA.png" /><figcaption>Make sure to hit the “Secured” check box when adding your Environment Variables</figcaption></figure><p>Now we can setup our app to deploy to Elastic Beanstalk, on each successful build.</p><p>Open up your <strong>bitbucket-pipelines.yml </strong>file and edit it to resemble the following.</p><pre><strong># myapp/bitbucket-pipelines.yml</strong></pre><pre># This is a sample build configuration for Ruby.<br># Check our guides at <a href="https://confluence.atlassian.com/x/8r-5Mw">https://confluence.atlassian.com/x/8r-5Mw</a> for more examples.<br># Only use spaces to indent your .yml configuration.<br># -----<br># You can specify a custom docker image from Docker Hub as your build environment.</pre><pre>image: ruby:2.4.2<br>pipelines:<br>  default:<br>    - step:<br>        caches:<br>          - bundler<br>          - pip<br>        script:<br>          - apt-get update &amp;&amp; apt-get install -y python-dev<br>          - curl -O <a href="https://bootstrap.pypa.io/get-pip.py">https://bootstrap.pypa.io/get-pip.py</a><br>          - python get-pip.py<br>          - pip install awsebcli --upgrade<br>          - pip install awscli --upgrade<br>          - bundle install --path vendor/bundle<br>          - bundle exec rake<br>          - aws --version<br>          - eb init My-Application -r eu-west-2 -p arn:aws:elasticbeanstalk:eu-west-2::platform/Puma with Ruby 2.4 running on 64bit Amazon Linux/2.5.0<br>          - eb deploy MyApplication-staging<br>        services:<br>          - postgres</pre><pre>definitions:<br>  caches:<br>    bundler: vendor/bundle<br>    pip: ~/.cache/pip<br>  services:<br>    postgres:<br>      image: postgres<br>      environment:<br>        POSTGRES_DB: &#39;myapp_test&#39;<br>        POSTGRES_USER: &#39;root&#39;<br>        POSTGRES_PASSWORD: &#39;test_user_password&#39;</pre><p>Lets take this moment to breakdown what exactly our pipelines file is doing. Bitbucket builds your app in a docker container, so if you wanted you could choose any docker image that best suited your app. The image we’ve chosen is pre-configured only for ruby 2.4.2, therefore we have to install any other dependancies or packages we might need during the build process. We also load in another docker container for postgres, as our tests will require a database. In order for this to work correctly you’ll also have to edit your <strong>database.yml </strong>file with the following.</p><pre># <strong>myapp/config/database.yml</strong></pre><pre>[...]</pre><pre>test:<br>  &lt;&lt;: *default<br>  database: myapp_test<br>  <strong>host: localhost</strong></pre><pre>[...]</pre><p>Looking at the file, we first create a cache for our gems and for our other pip packages so that when the build runs, it doesn’t have to continuously download these dependancies. Instead, it can use the ones saved in our cache folder. This dramatically speeds the build up, which is important as you only get 100 minutes free per month. Next, we’re installing python in order to install AWS CLI and EB CLI. After that, we run our tests using <strong>bundle exec rake</strong>, if all tests pass we deploy the app using the <strong>eb</strong> commands.</p><h4>Elastic Beanstalk Setup</h4><p>Next, you’ll need to create an application in AWS’s Elastic Beanstalk console and initialise Elastic Beanstalk within your repo. This is what the console would look like once an app’s created.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*e7y26prn7bWEEWoy8R61NA.png" /><figcaption>AWS Elastic Beanstalk Console</figcaption></figure><p>You can either create an environment now in the console or via EB CLI, I chose to do one now in the console as I can setup the database all in one go, but feel free to leave the database for later if you like.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*2DPiZjKAkrVzhSPWtXMJ9g.png" /><figcaption>Creating a new Environment for your App</figcaption></figure><p>You can name your enviornment whatever you like, I’ve called mine staging as I aim to have a staging site and live site. This helps if you’re going down the route of Blue-Green deployment. Choose <strong>Ruby </strong>from the platform list and then hit <strong>Configure more Options</strong>.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*cvsZHpVHA-Fouqqt3MYPDg.png" /><figcaption>Advanced Configuration for your App Environment</figcaption></figure><p>Here we’ll change the platform configuration, at the top, to use <strong>Puma </strong>instead of Passenger Standalone as the web server. Next, click the <strong>Modify</strong> button under the <strong>Database </strong>card.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*Tr30o4OrhERIENjqO0UbsQ.png" /><figcaption>Setting up Postgres DB Instance</figcaption></figure><p>Ensure to choose <strong>postgres </strong>from the dropdown options, as thats the database we’re using, then create a username and password and hit <strong>Save. </strong>Once this is done, you can <strong>Create Environment </strong>which will take a few minutes as we’ve setup our database as well. <strong>Take 5!</strong></p><p>Once this is setup, lets add all our environment variables. We’ll also need to edit our <strong>database.yml </strong>again to ensure it can connect to our RDS postgres instance.</p><pre>#<strong> myapp/config/database.yml</strong></pre><pre><strong>[...]</strong></pre><pre>production:<br>  &lt;&lt;: *default<br>  &lt;&lt;: *default<br>  adapter: postgresql<br>  encoding: unicode<br>  database: &lt;%= ENV[&#39;RDS_DB_NAME&#39;] %&gt;<br>  username: &lt;%= ENV[&#39;RDS_USERNAME&#39;] %&gt;<br>  password: &lt;%= ENV[&#39;RDS_PASSWORD&#39;] %&gt;<br>  host: &lt;%= ENV[&#39;RDS_HOSTNAME&#39;] %&gt;<br>  port: &lt;%= ENV[&#39;RDS_PORT&#39;] %&gt;</pre><p>In the Elastic Beanstalk Console, hit the <strong>Configuration </strong>button and then click the <strong>Software Configuration </strong>card. Here, we’ll add our env vars, which should include:</p><ul><li>SECRET_KEY_BASE (run <strong>rake secret</strong> in the terminal and copy the output)</li><li>RDS_DB_NAME (for eb apps this will be<strong> ebdb</strong>)</li><li>RDS_USERNAME (the username we entered when creating our db)</li><li>RDS_PASSWORD (the password we entered when creating our db)</li><li>RDS_HOSTNAME (the <strong>endpoint url</strong> of the RDS instance, can be found in the AWS RDS Dashboard)</li><li>RDS_PORT (as we’re using postgres, this will be <strong>5432</strong>)</li></ul><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*b41W0CC_C0g9U1FRmeA68A.png" /><figcaption>Adding your Environment Variables to your EB App</figcaption></figure><p>When you’re done click <strong>Apply.</strong></p><p>Lastly, before pushing for another build, we’ll initialise Elastic Beanstalk in the root of our app.</p><pre><strong>#bash </strong></pre><pre>$ eb init<br><br>Select a default region<br>1) us-east-1 : US East (N. Virginia)<br>2) us-west-1 : US West (N. California)<br>3) us-west-2 : US West (Oregon)<br>4) eu-west-1 : EU (Ireland)<br>5) eu-central-1 : EU (Frankfurt)<br>6) ap-south-1 : Asia Pacific (Mumbai)<br>7) ap-southeast-1 : Asia Pacific (Singapore)<br>8) ap-southeast-2 : Asia Pacific (Sydney)<br>9) ap-northeast-1 : Asia Pacific (Tokyo)<br>10) ap-northeast-2 : Asia Pacific (Seoul)<br>11) sa-east-1 : South America (Sao Paulo)<br>12) cn-north-1 : China (Beijing)<br>13) us-east-2 : US East (Ohio)<br>14) ca-central-1 : Canada (Central)<br>15) eu-west-2 : EU (London)<br>(default is 3): 15</pre><pre>Select an application to use<br>1) My-Application<br>2) [ Create new Application ]<br>(default is 2): 1<br>Note: Elastic Beanstalk now supports AWS CodeCommit; a fully-managed source control service. To learn more, see Docs: <a href="https://aws.amazon.com/codecommit/">https://aws.amazon.com/codecommit/</a><br>Do you wish to continue with CodeCommit? (y/N) (default is n): n</pre><p>This will create a <strong>.elasticbeanstalk</strong> folder with a <strong>config.yml</strong> file. You’ll need to edit out the following lines in your <strong>.gitignore</strong> to be able to see the <strong>config.yml</strong> file, which should look something like this.</p><pre># <strong>myapp/.ebextensions/config.yml</strong></pre><pre>branch-defaults:<br>  master:<br>    environment: MyApplication-staging<br>environment-defaults:<br>  MyApplication-staging:<br>    branch: null<br>    repository: null<br>global:<br>  application_name: My-Application<br>  default_ec2_keyname: null<br>  default_platform: arn:aws:elasticbeanstalk:eu-west-2::platform/Puma with Ruby 2.4<br>    running on 64bit Amazon Linux/2.6.0<br>  default_region: eu-west-2<br>  include_git_submodules: true<br>  instance_profile: null<br>  platform_name: null<br>  platform_version: null<br>  profile: null<br>  sc: git<br>  workspace_type: Application</pre><p>As your project gets more complex, you can specify different branches to be deployed to different environments. For now, though, this’ll work.</p><p>Boom you’re done! Setup is complete, look at all that green!</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*ie9ga4ZOujQ7tstqLRdVUQ.png" /><figcaption>Our first successful (meaningful) build!</figcaption></figure><p>Ok, so you’ll probably be like wtf right now, because if you’ve clicked your app’s URL link or typed <strong>eb open</strong> in the root of your app, you’ll get the following…</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*b6ikq-NGgckPkSYtcPc7iQ.png" /><figcaption>Ahhhh!</figcaption></figure><p>Fear not! We haven’t actually set any routes up, if you download the logs you’ll see there’s a routing error. Don’t worry, we’ll setup our API next.</p><h3>Creating our API</h3><p>For this post, I’ll use the famous Todo example. Therefore, we should create a controller and model for our Todos. Good thing we can scaffold this up in rails. I still urge you to study what’s happening in each of the created files, so you at least get a grasp of how your app’s basic functions work. Rails is great for booting up a quick project, <strong>but it’s important you still understand how it’s put together.</strong></p><pre>$ rails g scaffold Todo title:string</pre><pre>Running via Spring preloader in process 79500<br>      invoke  active_record<br>   identical    db/migrate/20171107165836_create_todos.rb<br>   identical    app/models/todo.rb<br>      invoke    rspec<br>      create      spec/models/todo_spec.rb<br>      invoke  resource_route<br>       route    resources :todos<br>      invoke  scaffold_controller<br>   identical    app/controllers/todos_controller.rb<br>      invoke    rspec<br>      create      spec/controllers/todos_controller_spec.rb<br>      create      spec/routing/todos_routing_spec.rb<br>      invoke      rspec<br>      create        spec/requests/todos_spec.rb</pre><p>If you run your tests you’ll see it’s even written some of those for you. So there’s no real excuse for you to not write tests here…</p><pre><strong>#bash </strong></pre><pre>$ rspec<br>**********.......</pre><pre>Pending: (Failures listed here are expected and do not affect your suite&#39;s status)</pre><pre>1) TodosController GET #index returns a success response<br>     # Add a hash of attributes valid for your model<br>     # ./spec/controllers/todos_controller_spec.rb:45</pre><pre>2) TodosController GET #show returns a success response<br>     # Add a hash of attributes valid for your model<br>     # ./spec/controllers/todos_controller_spec.rb:53</pre><pre>3) TodosController POST #create with valid params creates a new Todo<br>     # Add a hash of attributes valid for your model<br>     # ./spec/controllers/todos_controller_spec.rb:62</pre><pre>4) TodosController POST #create with valid params renders a JSON response with the new todo<br>     # Add a hash of attributes valid for your model<br>     # ./spec/controllers/todos_controller_spec.rb:68</pre><pre>5) TodosController POST #create with invalid params renders a JSON response with errors for the new todo<br>     # Add a hash of attributes invalid for your model<br>     # ./spec/controllers/todos_controller_spec.rb:78</pre><pre>6) TodosController PUT #update with valid params updates the requested todo<br>     # Add a hash of attributes valid for your model<br>     # ./spec/controllers/todos_controller_spec.rb:93</pre><pre>7) TodosController PUT #update with valid params renders a JSON response with the todo<br>     # Add a hash of attributes valid for your model<br>     # ./spec/controllers/todos_controller_spec.rb:100</pre><pre>8) TodosController PUT #update with invalid params renders a JSON response with errors for the todo<br>     # Add a hash of attributes valid for your model<br>     # ./spec/controllers/todos_controller_spec.rb:110</pre><pre>9) TodosController DELETE #destroy destroys the requested todo<br>     # Add a hash of attributes valid for your model<br>     # ./spec/controllers/todos_controller_spec.rb:121</pre><pre>10) Todo add some examples to (or delete) /Users/jameshamann/Documents/Development/rails_test/myapp/spec/models/todo_spec.rb<br>     # Not yet implemented<br>     # ./spec/models/todo_spec.rb:4</pre><pre>Finished in 0.16122 seconds (files took 1.84 seconds to load)<br>17 examples, 0 failures, 10 pending</pre><p>After pushing your latest update to your repo and once the build has succeeded, head over to your app’s page (using <strong>eb open</strong> or the link in the console). You’ll still see an error but if you navigate to the path <strong>/todos </strong>you should see the following…</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*HosoEAqDaohF1zDd_Rtt9w.png" /><figcaption>Empty JSON</figcaption></figure><p>Ok you might need glasses, but there’s a little <strong>[]</strong>. That little <strong>[]</strong> means there’s no data, but our app works!</p><p>To give this a quick test, let’s send a POST request up to our API and create a new Todo. I use <a href="https://httpie.org/">httpie</a> as it’s pretty quick and easy to install and get setup.</p><pre>$ http POST myapplication-staging.adpy2jk7cv.eu-west-2.elasticbeanstalk.com/todos \<br>title=PickUpBeers</pre><pre><br>HTTP/1.1 201 Created<br>Cache-Control: max-age=0, private, must-revalidate<br>Connection: keep-alive<br>Content-Type: application/json; charset=utf-8<br>Date: Wed, 22 Nov 2017 20:22:29 GMT<br>ETag: W/&quot;6690e9dc1a90d86fe6463be9dec11a9b&quot;<br>Location: <a href="http://myapplication-staging.adpy2jk7cv.eu-west-2.elasticbeanstalk.com/todos/1">http://myapplication-staging.adpy2jk7cv.eu-west-2.elasticbeanstalk.com/todos/1</a><br>Server: nginx/1.12.1<br>Transfer-Encoding: chunked<br>X-Request-Id: 28d7bef7-4605-4128-8c56-179ecc0a6489<br>X-Runtime: 0.059169</pre><pre>{<br>    &quot;created_at&quot;: &quot;2017-11-22T15:22:29.064Z&quot;,<br>    &quot;id&quot;: 1,<br>    &quot;title&quot;: &quot;PickUpBeers&quot;,<br>    &quot;updated_at&quot;: &quot;2017-11-22T15:22:29.064Z&quot;<br>}</pre><p>You’ll see our request has been successfully sent, but does it display in our app?</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*Nw3Y-on7yu7ARUMTh9qB-w.png" /></figure><p>Of course it does!</p><p>Now that you have some proof that it actually works, let’s add our front end quick and link it all together.</p><h3>Setting up React Front-End</h3><p>We’re gonna use<a href="https://github.com/facebookincubator/create-react-app"> create-react-app</a> to generate the boilerplate code.</p><pre><strong>#bash</strong></pre><pre>$ create-react-app client</pre><pre>Creating a new React app in /Users/jameshamann/Documents/myapp/client.</pre><pre>Installing packages. This might take a couple of minutes.<br>Installing react, react-dom, and react-scripts...</pre><pre>&gt; fsevents@1.1.2 install /Users/jameshamann/Documents/myapp/client/node_modules/fsevents<br>&gt; node install</pre><pre>[fsevents] Success: &quot;/Users/jameshamann/Documents/Development/myapp/client/node_modules/fsevents/lib/binding/Release/node-v57-darwin-x64/fse.node&quot; already installed<br>Pass --update-binary to reinstall or --build-from-source to recompile</pre><pre>&gt; uglifyjs-webpack-plugin@0.4.6 postinstall /Users/jameshamann/Documents/Development/myapp/client/node_modules/uglifyjs-webpack-plugin<br>&gt; node lib/post_install.js</pre><pre>+ react@16.0.0<br>+ react-dom@16.0.0<br>+ react-scripts@1.0.17<br>added 1267 packages in 38.902s</pre><pre>Success! Created client at /Users/jameshamann/Documents/Development/myapp/client<br>Inside that directory, you can run several commands:</pre><pre>npm start<br>    Starts the development server.</pre><pre>npm run build<br>    Bundles the app into static files for production.</pre><pre>npm test<br>    Starts the test runner.</pre><pre>npm run eject<br>    Removes this tool and copies build dependencies, configuration files<br>    and scripts into the app directory. If you do this, you can’t go back!</pre><pre>We suggest that you begin by typing:</pre><pre>cd client<br>  npm start</pre><pre>Happy hacking!</pre><p>Now you keen eyes will be thinking, how can we run node and rails at the same time, what are we going to do?! Fear not, we’ll run rails on port 3001 whilst running our react app on 3000. This speeds up development massively as you can see changes instantly, instead of having to run the build command each time you wanted to view any updates. Edit your <strong>package.json</strong> to proxy requests to port 3001.</p><pre><strong># myapp/client/package.json</strong></pre><pre>{<br>  &quot;name&quot;: &quot;client&quot;,<br>  &quot;version&quot;: &quot;0.1.0&quot;,<br> <strong> &quot;proxy&quot;: &quot;</strong><a href="http://localhost:3001"><strong>http://localhost:3001</strong></a><strong>&quot;,</strong><br>  &quot;private&quot;: true,<br>  &quot;dependencies&quot;: {<br>    &quot;react&quot;: &quot;^16.0.0&quot;,<br>    &quot;react-dom&quot;: &quot;^16.0.0&quot;,<br>    &quot;react-scripts&quot;: &quot;1.0.17&quot;<br>  },<br>  &quot;scripts&quot;: {<br>    &quot;start&quot;: &quot;<strong>PORT=3000</strong> react-scripts start&quot;,<br>    &quot;build&quot;: &quot;react-scripts build&quot;,<br>    &quot;test&quot;: &quot;react-scripts test --env=jsdom&quot;,<br>    &quot;eject&quot;: &quot;react-scripts eject&quot;<br>  }<br>}</pre><p>This next section is <strong>completely optional.</strong> It’s useful though as it automates a lot of the tedious tasks you’ll be doing on a regular basis.</p><p>First up, we’re going to add the <strong>foreman </strong>gem to our gem file and bundle it, this allows us to write Procfiles to manage our development and build tasks.</p><p>Once bundled, create a Procfile in the <strong>myapp/client </strong>directory called <strong>Procfile</strong>. It should look like this.</p><pre><strong># myapp/client/Procfile</strong></pre><pre>web: npm start<br>api: cd .. &amp;&amp; bundle exec rails s -p 3001</pre><p>It’s pretty self explanatory, but here we’re starting up node on port 3000 and rails on port 3001.</p><p>Next we’re going to create a few rake tasks, one for development and one for production. The default will be for development and we’ll have to specify <strong>rake start:production </strong>if we want a production build.</p><pre><strong>#bash </strong></pre><pre>$ touch myapp/lib/tasks/start.rake</pre><pre><strong># myapp/lib/tasks/start.rake</strong></pre><pre>namespace :start do<br>  task :development do<br>    exec &#39;cd client &amp;&amp; foreman start -f Procfile&#39;<br>  end</pre><pre>desc &#39;Start production server&#39;<br>  task :production do<br>    exec &#39;NPM_CONFIG_PRODUCTION=true npm run clientbuild &amp;&amp; cd client&#39;<br>  end<br>end</pre><pre>desc &#39;Start development server&#39;<br>task :start =&gt; &#39;start:development&#39;</pre><p>These rake tasks will speed up your workflow by huge amounts, it’ll make booting up your dev server and generating new builds effortless. Give it a go, try running <strong>rake start.</strong></p><pre><strong>#bash </strong></pre><pre>$ rake start </pre><pre>19:22:35 web.1  | started with pid 81472<br>19:22:35 api.1  | started with pid 81473<br>19:22:35 web.1  |<br>19:22:35 web.1  | &gt; client@0.1.0 start /Users/jameshamann/Documents/Development/rails_test/myapp/client<br>19:22:35 web.1  | &gt; PORT=3000 react-scripts start<br>19:22:35 web.1  |<br>19:22:36 api.1  | =&gt; Booting Puma<br>19:22:36 api.1  | =&gt; Rails 5.1.4 application starting in development<br>19:22:36 api.1  | =&gt; Run `rails server -h` for more startup options<br>19:22:36 api.1  | Puma starting in single mode...<br>19:22:36 api.1  | * Version 3.10.0 (ruby 2.4.2-p198), codename: Russell&#39;s Teapot<br>19:22:36 api.1  | * Min threads: 5, max threads: 5<br>19:22:36 api.1  | * Environment: development<br>19:22:36 api.1  | * Listening on tcp://localhost:3001<br>19:22:36 api.1  | Use Ctrl-C to stop<br>19:22:37 web.1  | Starting the development server...<br>19:22:37 web.1  |<br>19:22:41 web.1  | Compiled successfully!<br>19:22:41 web.1  |<br>19:22:41 web.1  | You can now view client in the browser.<br>19:22:41 web.1  |<br>19:22:41 web.1  |   Local:            <a href="http://localhost:3000/">http://localhost:3000/</a><br>19:22:41 web.1  |   On Your Network:  <a href="http://192.168.1.177:3000/">http://192.168.1.177:3000/</a><br>19:22:41 web.1  |<br>19:22:41 web.1  | Note that the development build is not optimized.<br>19:22:41 web.1  | To create a production build, use npm run build.<br>19:22:41 web.1  |</pre><p>Pretty nifty ay?</p><p>Lets configure our production task correctly now. You’ll notice from the code that it runs a script within the app directory, not the client directory, this means we’ll need to create another <strong>package.json </strong>file, but this one will live in our app’s root.</p><pre>$ npm init</pre><pre>This utility will walk you through creating a package.json file.<br>It only covers the most common items, and tries to guess sensible defaults.</pre><pre>See `npm help json` for definitive documentation on these fields<br>and exactly what they do.</pre><pre>Use `npm install &lt;pkg&gt;` afterwards to install a package and<br>save it as a dependency in the package.json file.</pre><pre>Press ^C at any time to quit.<br>package name: (myapp) myapp<br>version: (1.0.0)<br>description:<br>entry point: (index.js)<br>test command:<br>git repository: (<a href="https://github.com/jameshamann/clojure-todo.git">https://github.com/yourusername/myapp.git</a>)<br>keywords:<br>author:<br>license: (ISC)</pre><p>This will generate you a package.json, which you can edit to replicate the below version.</p><pre>{<br>  &quot;name&quot;: &quot;myapp&quot;,<br>  &quot;engines&quot;: {<br>    &quot;node&quot;: &quot;6.3.1&quot;<br>  },<br>  &quot;scripts&quot;: {<br>    &quot;build&quot;: &quot;cd client &amp;&amp; npm install &amp;&amp; npm run build &amp;&amp; cd ..&quot;,<br>    &quot;deploy&quot;: &quot;cp -a client/build/. public/&quot;,<br>    &quot;clientbuild&quot;: &quot;npm run build &amp;&amp; npm run deploy &amp;&amp; echo &#39;Client built!&#39;&quot;<br>  },<br>}</pre><p>All we’ve done is automated running commands like <strong>npm run deploy, npm run build. </strong>As both our API and Front End live on the same domain, for now, we’ll need to copy our build files over to the <strong>public </strong>folder in the app’s root. Everything in the <strong>public </strong>folder is your app’s front-end after it’s been built for production.</p><p>Run a production build using <strong>rake start:production, </strong>then push the contents to your repo to trigger a build.</p><p>When navigating to your app you should see this:</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*7s5drlrWsm2kUYVXBflw6w.png" /></figure><p>Congrats, you’re done! You’ve got yourself a Rails API, React app setup with a automated build pipeline, well done! Obviously there’s a lot more to cover, but the building blocks are in place for you to carry on building out your app.</p><p>In my next post I’ll look into <strong>implementing the basic CRUD functions of the app.</strong></p><p>As always, if you have any questions please drop a comment!</p><p>Thanks for reading, hit 👏 if you like what you read and be sure to follow to keep up to date with future posts.</p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=f0f0bb67112f" width="1" height="1"></p>
    
    <h3>Hi Martin Raskovsky, thanks for getting in touch!</h3>
    <p><p>Hi <a href="https://medium.com/u/6901d61b4e3d">Martin Raskovsky</a>, thanks for getting in touch! Looking at your logs now and trying to figure out what the issue is. I could be completely wrong, but it looks like it’s failing when during the asset_compliation stage, so there might be something wrong, somewhere in your project.</p><p>Looking at your second error when running “eb deploy”, it looks like Postgres isn’t running. I’ve had a similar error before and it’s usually down to the Postgres server not running/being offline.</p><p>I’d be more than happy to help you with this, would you be able to share your project/repo with me so I can checkout the code and try deploying it myself?</p><p>Thanks, James</p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=66b113c77b03" width="1" height="1"></p>
    
    <h3>Provisioning SSL certificates on your Server</h3>
    <p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*QK8AEkd_lFV1kmnFdtcADg.jpeg" /></figure><p>If you handle sensitive information on your web app, like processing payments or entering passwords, then it’s important you protect your users by making sure your website is secure using SSL. It’s basically like sending a letter, but making sure you put it in an envelope and seal it up before firing it off. With search engines now favouring SSL sites over others, it’s a good way to boost your ranking and ensure you’re protected.</p><h3><strong>What is SSL?</strong></h3><p>SSL, or Secure Sockets Layer, is a protocol that ensures a secure connection between the client and server so that information can be sent and received securely. This works by encrypting the data using a key-pair, a private key only accessible on server and a public key accessible to everyone. The message is encrypted and sent to the sever, with the public key, if the public key matches the private key, the data is decrypted and processed by the server accordingly. You can tell if you’re SSL secure by the green padlock on your web browser, if it says something like “Secure Connection” you’re good. Also the URL prefix would be https://… as opposed to <a href="http://.">http://</a>…</p><h3><strong>Setup</strong></h3><p>Pretty much most service providers, like GoDaddy, NameCheap, RapidSSL etc… provide an easy process to buy a certificate. Once purchased, you’ll need to generate a CSR (certificate signing request), it doesn’t matter where this is done, <strong>it doesn’t need to be done on the same server that you wish to install the certificate on. </strong>There are two ways to do this, through the terminal using <strong>openssl</strong> or (if you’re on a Mac) through the <strong>KeyChain Access </strong>application.</p><h4>Using the Terminal</h4><pre>$ openssl req -new -newkey rsa:2048 -nodes -keyout <em>yourdomain</em>.key -out <em>yourdomain</em>.csr</pre><p>This command will prompt you to go through a little creation wizard, as highlighted below.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*SO1lGlR16Czhih7lkivydQ.png" /><figcaption>openssl Wizard</figcaption></figure><p>You’ll be asked to enter a few details as well as choosing a password for the keypair. Once this is done, the .csr (certificate sigining request) and yourdomainname.key is generated in the directory that you ran the command. If you open up the .csr file in a text editor it should look something like this.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*h0NCgfQ4oSpxQoXIH6SlWA.png" /><figcaption>yourdomain.csr</figcaption></figure><p>When managing your SSL, you’ll be asked for the csr, copy and paste or upload (depending on service provider) the file. Once this is done, verification will be done to ensure you’re the domain owner as well. This is done through either shooting an email across or adding a TXT record with a key value to your DNS. Once verified you’re ready to go! Depending on where you’re installing your certificate there will be different file types.</p><h4>File Types</h4><h4>.pem</h4><p>This is the most common format and can have other suffix’s, including <strong>.pem, .crt, .key </strong>and<strong> .cer. </strong>You’ll know it’s in a <strong>.pem</strong> format if the file is readable in a text editor and starts with<strong> — — — BEGIN CERTIFICATE — — —</strong> . These types of certificates are used with Apache, Nginx and similar servers.</p><h4><strong>.der</strong></h4><p>This is a binary form of the .pem certificate. It can have the suffix <strong>.der </strong>and <strong>.cer</strong> and is typically used on the Java platform.</p><h4>.p7b/PKCS#7</h4><p>These types of certificates are also readable in a text editor, they start with — <strong>— — BEGIN PCKS — — —</strong> and end with<strong> — — — END PCKS7 — — — . </strong>They can contain certificates or chain certificates but can’t contain the private key, which will need to be in a separate file. These are supported on platforms like Windows and Tomcat.</p><h4>.pfx/PCKS#12</h4><p>This type of certificate file stores the certificate, any additional certificates and the private key in one binary, encryptable file. This is typically used on Windows platforms.</p><p>If you find yourself with the wrong format, for whatever reason, there is a way to convert them. For more information, head over <a href="https://www.sslshopper.com/ssl-converter.html">here</a> and follow the simple instructions.</p><h4>Using Keychain Access</h4><p>Do a quick spotlight search for Keychain Access and open up the application, it’ll look something like this. You’ll then want to head to the menu and navigate to the option <strong>Request a Certificate From a Certificate Authority…</strong></p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*qmnevFsFkR-88gaKxiolng.png" /><figcaption>Click “Request a Certificate From a Certificate Authority…” from the dropdown menu</figcaption></figure><p>This will bring up the following <strong>Certificate Assistant</strong>, where you’ll be asked to enter a few details. Ensure you choose the option <strong>Save to disk.</strong></p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*WCwWyIp0wLMb6RjM_mBRBw.png" /><figcaption>Ensure you choose <strong>Saved to disk</strong></figcaption></figure><p>Once hitting <strong>Continue</strong>, you’ll be asked where you want to save your .csr file, after that your .csr will be generated. Your private key will be accessible in the <strong>keys</strong> section of the <strong>Keychain Access</strong> app. Depending on your service provider you can either upload the .csr file or open a text editor and paste the contents of the .csr file to start the process.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*qH6lkp1owLuf6hvD1PHDuw.png" /><figcaption>All done!</figcaption></figure><p>That’s it really, depending on your type of server and configuration installation of the certificate will vary, but it’s usually quite straightforward.</p><h3>Free SSL Certificates</h3><p>AWS, Heroku, Azure all provide free SSL certificates for certain services. For example on AWS if you deploy your content through a CloudFront distribution you can apply an SSL certificate to it, free of charge using the Certificate Manager in AWS. As well as that there’s another cool service called <a href="https://letsencrypt.org/"><strong>Let’s Encrypt</strong></a><strong>.</strong></p><h4><strong>Lets Encrypt</strong></h4><p>This service offers a free, automated and open certificate authority. It works by running a certificate management agent on your web server. They automatically renew the certificate before it expires, which is handy and stops you having to monitor the process. Another awesome reason to use this service is that they’re supporting wildcard certificates from January next year. Head over to their <a href="https://letsencrypt.org/getting-started/">getting started guide</a>, if you’re interested.</p><p>Thanks for reading, hit 💚 if you like what you read and be sure to follow to keep up to date with future posts.</p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=7597ec17a66" width="1" height="1"></p>
    
    <h3>React-Native and Firebase — Part One Simple Authentication</h3>
    <p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*ipwpqQrHz0Lkd_5setXQCQ.jpeg" /><figcaption>Firebase</figcaption></figure><p>So I’ve slowly been making progress with my beer app and recently finished up authentication, so figured it was time for another post. I chose Firebase as I’ve messed around with it before and remember it being a pretty good fit for mobile apps, plus the interface is pretty slick.</p><p>I’m gonna assume you all have an app skeleton setup using either react-native init or create-react-native-app.</p><h3>React-Native Project Setup</h3><p>As I used react-native init, the first thing I do is create an <em>App.js </em>file in the root, copy and paste the code from either index.ios.js or index.android.js and paste it in <em>App.js</em> so it looks something like this.</p><pre>import React, { Component } from &#39;react&#39;;<br>import {<br>  AppRegistry,<br>  StyleSheet,<br>  Text,<br>  View<br>} from &#39;react-native&#39;;</pre><pre>export default class myapp extends Component {<br>  render() {<br>    return (<br>      &lt;View style={styles.container}&gt;<br>        &lt;Text style={styles.welcome}&gt;<br>          Welcome to React Native!<br>        &lt;/Text&gt;<br>        &lt;Text style={styles.instructions}&gt;<br>          To get started, edit index.ios.js<br>        &lt;/Text&gt;<br>        &lt;Text style={styles.instructions}&gt;<br>          Press Cmd+R to reload,{&#39;\n&#39;}<br>          Cmd+D or shake for dev menu<br>        &lt;/Text&gt;<br>      &lt;/View&gt;<br>    );<br>  }<br>}</pre><pre>const styles = StyleSheet.create({<br>  container: {<br>    flex: 1,<br>    justifyContent: &#39;center&#39;,<br>    alignItems: &#39;center&#39;,<br>    backgroundColor: &#39;#F5FCFF&#39;,<br>  },<br>  welcome: {<br>    fontSize: 20,<br>    textAlign: &#39;center&#39;,<br>    margin: 10,<br>  },<br>  instructions: {<br>    textAlign: &#39;center&#39;,<br>    color: &#39;#333333&#39;,<br>    marginBottom: 5,<br>  },<br>});</pre><pre>AppRegistry.registerComponent(&#39;myapp&#39;, () =&gt; myapp);</pre><p>Next, in each of the <strong>index.android.js </strong>and <strong>index.ios.js</strong> add the following line:</p><pre>import &quot;./App&quot;;</pre><p>This makes things a little easier in that you only have to worry about editing one file and changes will be reflected both in iOS and Android versions of the app. Obviously, depending on what you’re doing, some features may only be accessible on certain platforms/look different on either platform, so as the complexity of your app grows, you may find yourself editing each respective file on it’s own, but for the purpose of this, it works fine.</p><p>I know there’s a few different ways to setup your file structure with a React Project, this is the way I’ve read/adopted for now, if you think it could be done better, please a shoot comment below!</p><p>Delete anything style based out of the <em>App.js </em>file, we’ll create a specific stylesheet for each page as some styles would be specific to each page on the app. Next, create an ‘app’ folder in the root of the project and within that create a ‘component’ folder, this is where all our app pages will live as well as any components we create. Your project directory, if using react-native init, will look something like the below.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/586/1*gAU4-tIpgGUbNLNRDKjPKA.png" /><figcaption>Project Directory for React-Native App</figcaption></figure><h3>Firebase Setup</h3><p>Head over to <a href="https://firebase.google.com">firebase</a> and sign in (sign up, if you haven’t already, with your gmail account). You can then Add a project and enter the name of your app, as well as choosing the country/region you’re currently in. Once this is done you’ll be taken to your app’s dashboard screen, which looks something like this.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*R-8UGmPHIIOIFkb6hP5YIQ.png" /></figure><p>You’re going to want to click “Add Firebase to your web app”, which will bring up a pop up with your config details.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*onAeLMrvhg3U5aXXiQ0v0g.png" /></figure><p>This is obviously built for a web app so we’ll need to convert into pure JS to work with React-Native. We’ll then initialise the Firebase App in the <strong>componentWillMount() </strong>method, this ensures it’s called before the initial render of the component.</p><p>It’s a good idea to use <a href="https://github.com/zetachang/react-native-dotenv">react-native-dotenv</a> so you’re not pushing your live api keys for the world to see. It’s super easy to setup, just create a <strong>.env </strong>file, add it to your <strong>.gitignore</strong> file, stick all your env vars in there and import them in where ever you need them.</p><pre>import {<br>   FIREBASE_API_KEY,<br>   AUTH_DOMAIN,<br>   DATABASE_URL,<br>   FIREBASE_PROJECT_ID,<br>   FIREBASE_STORAGE_BUCKET,<br>   MESSAGE_ID<br>} from &#39;react-native-dotenv&#39;;</pre><pre>componentWillMount() {<br>        firebase.initializeApp({<br>            apiKey: FIREBASE_API_KEY,<br>            authDomain: AUTH_DOMAIN,<br>            databaseURL: DATABASE_URL,<br>            projectId: FIREBASE_PROJECT_ID,<br>            storageBucket: FIREBASE_STORAGE_BUCKET,<br>            messagingSenderId: MESSAGE_ID<br>        });<br>    }</pre><h3>Creating a Sign Up/Sign In form</h3><p>We’ll extract our text input form into a separate component as we’ll re-use this for the input of an email, password, name or any other details we feel like capturing. In the ‘component’ folder, create a new file <strong>TextInputField.js </strong>and <strong>enter </strong>the below code.</p><pre>import React, { Component } from &#39;react&#39;;<br>import { View, Text, TextInput } from &#39;react-native&#39;;</pre><pre>import styles from &#39;./styles.js&#39;;</pre><pre>const TextFieldInput = ({ label, value, onChangeText, placeholder, secureTextEntry }) =&gt; {</pre><pre>const { inputStyle, labelStyle, containerStyle } = styles;</pre><pre>return (<br>        &lt;View style={containerStyle}&gt;<br>            &lt;Text&gt;{label}&lt;/Text&gt;<br>            &lt;TextInput<br>                autoCorrect={false}<br>                placeholder={placeholder}<br>                secureTextEntry={secureTextEntry}<br>                value={value}<br>                onChangeText={onChangeText}<br>                style={inputStyle}<br>                underlineColorAndroid={&#39;transparent&#39;}<br>                autoCorrect={false}<br>            /&gt;<br>        &lt;/View&gt;<br>    );<br>};</pre><pre>export default TextFieldInput;</pre><p>Reason I highlighted <strong>enter</strong> was because you should really enter this stuff line by line, it’ll help you understand what you’re actually doing. It’s pretty straightforward, but let’s just break it down to see what we’re doing here.</p><p>We’re importing everything we need, you’ll notice I’ve already setup some styles in a separate file, which we’ll go over in a sec. We start by creating a constant, <strong>TextFieldInput</strong>, which will take the arguments <strong>label, value, onChangeText, placeholder </strong>and <strong>secureTextEntry. </strong>Within our function we then define our <strong>styles</strong> constant, which allow us to define what styles to use and where to get them from. Next we setup a <strong>View</strong> using our <strong>containerStyle, </strong>and a <strong>TextInput, </strong>which will have a text heading value of whatever <strong>label</strong> is set to. We then define each of the <strong>TextInput </strong>parameters based on either the arguments we defined earlier. You’ll notice I’ve also added “<strong>underlineColorAndroid={‘transparent’}”</strong>. On Android you get this weird underline, which looks pretty messy, this line basically gets rid of it. Lastly, we export our new component, ready to be imported wherever we use it.</p><p>Now we’re ready to create our Sign in/Sign up form, go ahead and create a <em>SignInForm </em>folder within our ‘app’ folder. Then create an <strong>index.js </strong>and <strong>styles.js </strong>Below is the completed snippet for our <strong>SignInForm </strong>page, let’s deconstruct it and see what each section is actually doing.</p><pre>import React, { Component } from &#39;react’;<br>import { View, Text, Button } from &#39;react-native’;<br>import firebase from &#39;firebase’;<br>import TextInputField from &#39;../component’;<br>import styles from &#39;./styles.js’;</pre><pre>class SignInForm extends Component {<br>    state = { email: &#39;&#39;, password: &#39;&#39;, error: &#39;&#39;, loading: false };<br>    onSignInPress() {<br>        this.setState({ error: &#39;&#39;, loading: true });</pre><pre>const { email, password } = this.state;<br>        firebase.auth().signInWithEmailAndPassword(email, password)<br>            .then(() =&gt; { this.setState({ error: &#39;&#39;, loading: false }); })<br>            .catch(() =&gt; {<br>                firebase.auth().createUserWithEmailAndPassword(email, password)<br>                    .then(() =&gt; { this.setState({ error: &#39;&#39;, loading: false }); })<br>                    .catch(() =&gt; {<br>                        this.setState({ error: &#39;Authentication failed.&#39;, loading: false });<br>                    });<br>            });<br>    }<br>    renderButtonOrLoading() {<br>        if (this.state.loading) {<br>            return &lt;View&gt;&lt;ActivityIndicator /&gt;&lt;/View&gt;<br>        }<br>        return &lt;Button onPress={this.onSignInPress.bind(this)} title=&quot;Log in&quot; /&gt;;<br>    }<br>    render() {<br>        return (<br>            &lt;View&gt;<br>                    &lt;TextFieldInput<br>                        label=&#39;Email Address&#39;<br>                        <a href="mailto:placeholder=&#39;youremailaddress@domain.com">placeholder=&#39;youremailaddress@domain.com</a>&#39;<br>                        value={this.state.email}<br>                        onChangeText={email =&gt; this.setState({ email })}<br>                        autoCorrect={false}<br>                    /&gt;<br>                    &lt;TextFieldInput<br>                        label=&#39;Password&#39;<br>                        autoCorrect={false}<br>                        placeholder=&#39;Your Password&#39;<br>                        secureTextEntry<br>                        value={this.state.password}<br>                        onChangeText={password =&gt; this.setState({ password })}<br>                    /&gt;<br>                    &lt;Text style={styles.errorTextStyle}&gt;{this.state.error}&lt;/Text&gt;<br>                    {this.renderButtonOrLoading()}<br>            &lt;/View&gt;<br>        );<br>    }<br>}</pre><pre>export default SignInForm;</pre><p>Here we’re obviously just importing everything we need, notice that we bring in our <strong>TextFieldInput</strong> we made earlier as well as our <strong>styles</strong>, which we extract out to a separate file for cleaner code.</p><pre>import React, { Component } from &#39;react’;<br>import { View, Text, Button } from &#39;react-native’;<br>import firebase from &#39;firebase’;<br>import TextFieldInputField from &#39;../component’;<br>import styles from &#39;./styles.js’;</pre><p>Now we create our <strong>SignInForm</strong>. We start by setting the state of four variables, <strong>email, password, error </strong>and <strong>loading.</strong></p><pre>class SignInForm extends Component {<br>    state = { email: &#39;&#39;, password: &#39;&#39;, error: &#39;&#39;, loading: false };<br>    onSignInPress() {<br>        this.setState({ error: &#39;&#39;, loading: true });</pre><pre>const { email, password } = this.state;<br>        firebase.auth().signInWithEmailAndPassword(email, password)<br>            .then(() =&gt; { this.setState({ error: &#39;&#39;, loading: false }); })<br>            .catch(() =&gt; {<br>                <br>                firebase.auth().createUserWithEmailAndPassword(email, password)<br>                    .then(() =&gt; { this.setState({ error: &#39;&#39;, loading: false }); })<br>                    .catch(() =&gt; {<br>                        this.setState({ error: &#39;Authentication failed.&#39;, loading: false });<br>                    });<br>            });<br>    }</pre><p>Next we create a <strong>OnSignInPress</strong> function, we set the state of <strong>error</strong> to an empty string and <strong>loading </strong>to true. We then setup a constant, containing <strong>email </strong>and <strong>password</strong> and set those equal to <strong>this.state. </strong>This will capture the email and password values entered into the form. Next we call firebase’s <strong>signInWithEmailAndPassword </strong>method and pass it the arguments of <strong>email </strong>and <strong>password</strong>. Then, we call an error catcher which, if the Login was unsuccessful, i.e the user doesn’t exist, firebase’s <strong>createUserWithEmailAndPassword</strong> method will get called and passed with the <strong>email </strong>and <strong>password </strong>arguments. This will create a new user, which will pretty much instantly appear in your firebase console. Lastly, if everything fails, say you enter an email without a password, error is set to <strong>“Authentication Failed”</strong>, which is then displayed to the user. This is pretty much the meat of the authentication done. If you’re interested, head over <a href="https://firebase.google.com/docs/reference/js/firebase.auth.Auth">to the docs</a>, there’s a bunch of other ways to authenticate, including phone number, next time I’ll go through social logins and all that other jazz.</p><p>The next function <strong>renderButtonOrLoading()</strong>, as the title suggests, renders a button or a <strong>Loading </strong>message. Essentially we are rendering our <strong>loading </strong>variable from earlier, if it’s true it’ll display the text <strong>Loading… , </strong>we can obviously put a fancy animation in here as well, but I’ll leave that to you. We then render our Sign in button, which is bound to our function <strong>onSignInPress</strong>, so whenever the button is clicked, the function is run.</p><pre>renderButtonOrLoading() {<br>        if (this.state.loading) {<br>            return &lt;Text&gt;Loading...&lt;/Text&gt;<br>        }<br>        return &lt;Button onPress={this.onSignInPress.bind(this)} title=&quot;Sign in&quot; /&gt;;<br>    }</pre><p>Lastly, we render the view. This is where we bring in our <strong>TextInputField </strong>component we made earlier. We enter the <strong>label </strong>value, <strong>placeholder </strong>text and set the state <strong>email </strong>variable equal to what’s inputted into the text field. Pretty much exactly the same goes for the Password field except of the extra option <strong>autoCorrect</strong> and <strong>SecureTextEntry, </strong>which as the name suggests, ensures the password is hidden from view with the •••••• or ****** characters. The final thing we do is export the whole thing, so we can call it in our <em>App.js </em>file.</p><pre>render() {<br>        return (<br>            &lt;View&gt;<br>                    &lt;TextInputField<br>                        label=’Email Address&#39;<br>                        <a href="mailto:placeholder=&#39;youremailaddress@domain.com">placeholder=’youremailaddress@domain.com</a>&#39;<br>                        value={this.state.email}<br>                        onChangeText={email =&gt; this.setState({ email })}<br>                        autoCorrect={false}<br>                    /&gt;<br>                    &lt;TextInputField<br>                        label=’Password&#39;<br>                        autoCorrect={false}<br>                        placeholder=’Your Password&#39;<br>                        secureTextEntry<br>                        value={this.state.password}<br>                        onChangeText={password =&gt; this.setState({ password })}<br>                    /&gt;<br>                    &lt;Text style={styles.errorTextStyle}&gt;{this.state.error}&lt;/Text&gt;<br>                    {this.renderButtonOrLoading()}<br>            &lt;/View&gt;<br>        );<br>    }<br>}</pre><pre>export default SignInForm;</pre><p>This is the simple contents of our <strong>style.js </strong>file, within our <em>SignInForm </em>folder. It’s pretty self-explanatory.</p><pre>&#39;use strict&#39;;<br>import React, {<br>  StyleSheet<br>} from &#39;react-native&#39;;</pre><pre>const styles = StyleSheet.create({</pre><pre>errorTextStyle: {<br>        color: &#39;#E64A19&#39;,<br>        alignSelf: &#39;center&#39;,<br>        paddingTop: 10,<br>        paddingBottom: 10<br>    }<br>});</pre><pre>export default styles;</pre><p>Whilst we’re doing stylesheets, here’s the one that sits within our <em>component </em>folder. Again, no real point going over this as it’s fairly straightforward. Feel free to play around with it, make it your own.</p><pre>&#39;use strict&#39;;<br>import React, {<br>  StyleSheet<br>} from &#39;react-native&#39;;</pre><pre>const styles = StyleSheet.create({</pre><pre>inputStyle: {<br>       paddingRight: 5,<br>       paddingLeft: 5,<br>       paddingBottom: 2,<br>       color: &#39;black&#39;,<br>       fontSize: 18,<br>       fontWeight: &#39;200&#39;,<br>       flex: 1,<br>       height: 100,<br>       width: 300,<br>       borderColor: &#39;gray&#39;,<br>       borderWidth: 1,</pre><pre>},<br>   containerStyle: {<br>       height: 45,<br>       flexDirection: &#39;column&#39;,<br>        alignItems: &#39;flex-start&#39;,<br>        width: &#39;100%&#39;,<br>        borderColor: &#39;gray&#39;,<br>       borderBottomWidth: 1,<br>   }</pre><pre>});</pre><pre>export default styles;</pre><p>The final part of the puzzle is to bring it all together in our <strong>App.js </strong>file. This is what the final result should resemble.</p><pre>import React, { Component } from &#39;react&#39;;<br>import {<br>  AppRegistry,<br>  StyleSheet,<br>  Text,<br>  View<br>} from &#39;react-native&#39;;</pre><pre>import Config from &#39;react-native-config&#39;;</pre><pre>import {<br>   FIREBASE_API_KEY,<br>   AUTH_DOMAIN,<br>   DATABASE_URL,<br>   FIREBASE_PROJECT_ID,<br>   FIREBASE_STORAGE_BUCKET,<br>   MESSAGE_ID<br>} from &#39;react-native-dotenv&#39;;</pre><pre>import * as firebase from &#39;firebase&#39;;</pre><pre>import SignInForm from &#39;./app/SignInForm&#39;;</pre><pre>export default class myapp extends Component {</pre><pre>componentWillMount() {<br>        firebase.initializeApp({<br>            apiKey: FIREBASE_API_KEY,<br>            authDomain: AUTH_DOMAIN,<br>            databaseURL: DATABASE_URL,<br>            projectId: FIREBASE_PROJECT_ID,<br>            storageBucket: FIREBASE_STORAGE_BUCKET,<br>            messagingSenderId: MESSAGE_ID<br>        });<br>    }<br>  render() {<br>    return (<br>      &lt;View&gt;<br>       &lt;SignInForm /&gt;<br>      &lt;/View&gt;<br>    );<br>  }<br>}</pre><pre>AppRegistry.registerComponent(&#39;myapp&#39;, () =&gt; myapp);</pre><p>Now, barring no hiccups, run <strong>react-native run-ios </strong>or <strong>react-native run-android. </strong>I’ll assume you’ve either hooked up your phone to your laptop and enabled debugging or have a simulator setup and ready to go (that only applies for Android, iOS should just boot one up when you call the command).</p><p>Now whack open your firebase console and hit the <strong>Authentication </strong>tab on the right. When signing in on the app and hitting the “Sign In” button, your user should appear in the console, like magic!</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*7S3h7wfAhrHd7SkCtXb_pQ.png" /><figcaption>Your first (and hopefully not last) user!</figcaption></figure><p>Boom! You’re done. Now, obviously, there’s plenty more to do, but you’ve got the basics implemented. Next time we’ll look at integrating social logins via Facebook/Google/Twitter and how to handle Navigation, once sign-in/sign-up has been completed.</p><p>Thanks for reading, hit 💚 if you like what you read and be sure to follow to keep up to date with future posts.</p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=3b233fff5b3f" width="1" height="1"><hr><p><a href="https://blog.cloudboost.io/react-native-and-firebase-part-one-simple-authentication-3b233fff5b3f">React-Native and Firebase — Part One Simple Authentication</a> was originally published in <a href="https://blog.cloudboost.io">CloudBoost</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p></p>
    
    <h3>Setting up an Ubuntu EC2 instance</h3>
    <p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*i2REN2sBZb-tF1ZLQ1di6Q.jpeg" /><figcaption>What’s a Sunday without Pale Ale</figcaption></figure><p>I’ll split this in two halves, the first section will be setting up on AWS and the second section will be setting up on your Ubuntu instance.</p><h4>Setting up on AWS</h4><p>I’m new to all things linux so figured I’d write up my process for setting up an Ubuntu EC2 instance and installing all the necessary things needed. I’ll assume you’re set up on AWS, if not you’re going to need to create an account <a href="http://aws.amazon.com">here</a>.</p><p>First you’re gonna head over the EC2 Dashboard, which should look a little something like this. You’ll notice I’ve chosen London as it’s the nearest region to where I am, make sure you choose the closest available region to you as well. One thing to note, however, is that the type of EC2 instances may vary between regions, so if my list looks slightly different from yours, that’ll be why.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*H0wZroUOzwG3pPPU_owzpQ.png" /><figcaption>EC2 Dashboard</figcaption></figure><p>Obviously you’re going to want to hit “Launch Instance”, which will take you a list of available instances in your region. There’s a large variety to choose from, but for the purposes of this post we’ll choose<strong> Ubuntu Server 16.04 LTS</strong>, which stands for Long Term Support and ensures there’s support for the server for at least 5 years.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*x-geXJ77MHaX0LY-7zU9aQ.png" /><figcaption>EC2 Distributions</figcaption></figure><p>The next screen you’ll be faced with goes through the different instance types, we’ll want to make sure we pick the <strong>t2.micro </strong>as it’s part of the free tier. However, it’s worth knowing roughly what each instance class is best suited for. Obviously t2.mircos are for experimenting and playing around, anything in the M class is for general purpose web apps. Upwards from there, you’ll notice the C class, which is for compute intensive applications, the R class, which is memory optimised so think lots of RAM, X is bascially an X-treme version of R and both D and I represent storage optimised instances.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*XeUwDpig6QGoRbF0aUynJQ.png" /><figcaption>Types of EC2</figcaption></figure><p>Before reviewing and launching, we’ll need to set up a few extra things so click <strong>Configure Instance Details</strong>, which will bring you to this page.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*4upHIZmoqdyTguqGFNiflg.png" /><figcaption>Configuring your EC2</figcaption></figure><p>All of this can be left as is, but it’s important to at least understand what some of it represents. Obviously the top option allows you to choose the number of instances you want to launch.</p><p>Spot Instances are actually kinda cool and basically allow you to bid on excess EC2 Computing Capacity at low demand times of the day. In a nut shell, you’ll set a bid price for the instance and as long as that bid price is greater than the spot price, you’ll be able to run instances. However, as soon as the spot instance price rises above your bid price, you loose your instances. This is great for applications where cost is a key factor and interruptions are ok.</p><p>IAM Roles is a whole separate topic, which I’ll probably cover in a later post, we’ll leave it as is for now.</p><p>The last section allows you to choose the shutdown behaviour, whether you want the instance to stop or be terminated straight away. The difference is that if you stop, you can still re-boot, however there’s no way back from termination. Thankfully, though, there’s also the ability to prevent accidental termination, which is pretty useful but probably not applicable for us right now. You are also able to enable CloudWatch monitoring and change the tenancy of your instance. This can be a cost effective solution if you know you’re going to need an instance for a set amount of time. It provides better rates than the normal EC2 tariff rates. Please note both these options come at an additional cost, so let’s just leave it as it is.</p><p>The next section will allow you to add storage to your instance, again for the purposes of this we’ll be ok leaving it as it is, at the default 8GB.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*_ivFgaSRmB3DlnU0MXENBA.png" /><figcaption>Adding Storage to your Instance</figcaption></figure><p>Next up is Tags, a great way to keep your instances organised. They work in key value pairs and can help you quickly distinguish your instances apart, especially if you have the same application running in a staging and production environment.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*La43ygoVVEJOkZo_M9aPuw.png" /><figcaption>Adding Tags to your Instance</figcaption></figure><p>Next you’ll be setting up a real simple security group for your instance which specifies what traffic can be allowed into your server.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*P_wuA9oSZV-paa3GZbNy4A.png" /><figcaption>Creating/Configuring a Security Group</figcaption></figure><p>Obviously we’ll want to SSH in, so that’s an obvious one and we’d probably want to allow users to be able to visit the site over HTTP and HTTPS. I’ve also added PostgreSQL, if you’re going to connect to a separate database. You’ll notice the warning, which is absolutely fine, it’s just letting you know that all IP address are able to connect to your instance.</p><p>After this is complete you’ll be ready to launch. You’ll be taken to a page which allows you to review your instance if you wish. Click “Launch” and you’ll be greeted with a pop up asking to either choose or create a key pair to access your instance securely. Lets create a new one for this instance by choosing the <strong>Create a new key pair </strong>option from the dropdown list.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*g0sqMZTUdVf-WpmXTpzKDw.png" /><figcaption>Generating a new Key Pair to securely access your Instance</figcaption></figure><p>Call it whatever you want and hit download, this will generate a key pair and download the .pem file for you. I have an SSH directory within my downloads folder, but as long as it’s accessible for you, that’s ok.</p><p>Your instance will now take a minute or two to launch and warm up, in the mean time open up your terminal and navigate to the directory where your .pem file is located. In order to be able to SSH into your instance, you’re going to need to change the permissions on the file with the following command.</p><pre>$ chmod 400 mykeypairname.pem</pre><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*csX33EgNFxcRhmQLofOLcw.png" /></figure><p>Once your instance is all setup and ready your EC2 dashboard should look something like this.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*Xc6mndmDyX1LAAIrL1uzdQ.png" /><figcaption>EC2 Dashboard</figcaption></figure><p>Now we’re ready to connect to the instance.</p><h4>Setting up on your Instance</h4><p>First things first, you’re obviously going to need to SSH into your newly launched instance. Make sure you’re in the directory where your pem file is located and that you’ve changed the permissions on it as mentioned above.</p><p>For Ubuntu instances the user is called “Ubuntu”, I believe it’s different depending on what distribution you use but I know Amazon uses ec2-user instead, so just make sure the user actually exists when trying to SSH in.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*Z9Puh_slfXL-uXtfAp1Fuw.png" /></figure><p>The command used to ssh in is simply:</p><pre>$ ssh -i YourKeyPair.pem ubuntu@YourInstancePublicIP</pre><p>Your instance’s public IP address can be found on the dashboard here:</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*yu-BshsM_vGLJAwoX_VGfg.png" /><figcaption>The far right column <strong>IPv4 Public IP </strong>is your instance’s public IP Address</figcaption></figure><p>You’ll be asked if you’re sure you want to connect, to which you’ll obviously reply yes. Once that’s done you’re in!</p><p>A good thing to do first up is to get a quick update, however before doing this you’ll need to change to the root user, as the current user doesn’t have the required permissions.</p><pre>$ sudo su //changes to root user<br>$ apt-get update //will run an update on the instance for you</pre><p>Your instance is pretty much setup to go now, bear in mind though you’re starting from scratch so depending on your tech stack you’ll need to download everything from scratch from java to PostgreSQL to everything in between.</p><pre>$ apt install postgresql <br>...<br>$ apt install default-jre-headless<br>... <br>//install everything you need for your application</pre><p>That’s about it in a nutshell, obviously you’ll need to consider setting up your psql users etc… One thing I’ll mention is this setup assumes you’ll run your application and database on the same server, obviously this isn’t best practice and you should setup a separate database instance using <a href="https://aws.amazon.com/rds/">AWS RDS</a> or on your own by launching another EC2 instance.</p><p>Whilst quite a few of us use tools like <a href="https://www.heroku.com/">Heroku</a> and <a href="https://aws.amazon.com/elasticbeanstalk/">Beanstalk</a> to take care of application deployment, it’s still useful to understand how everything works and how to set it up. One thing I’ll stress, though, is don’t overcomplicate if you don’t have to. Yeah I know, we’re getting into a different topic here about IAAS vs PAAS, which is a whole subject on it’s own. But, every application has it’s own requirements and both services suit different applications well, so choose whatever works and suits your application best.</p><p>Thanks for reading, hit 💚 if you like what you read and be sure to follow to keep up to date with future posts.</p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=78a166167a22" width="1" height="1"></p>
    
    <h3>Should you care about your Data and Digital Footprint?</h3>
    <p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*eX-HaxcDk5h_jgmDmkAXbQ.jpeg" /></figure><p>Data. It’s what drives applications, it’s what businesses use to make decisions and it’s all generated by you. Think about it, <strong><em>if the app is free you’re the product</em>. </strong>Facebook, Google, Snapchat, all these giant tech companies have free services, but how do they actually make money? <strong>You. </strong>You’re the product they’re serving up to companies. So, shouldn’t you care about your data and where it goes?</p><h4>What Data do they Hold?</h4><p>Well, everything you make public and everything you keep private. Google even build a profile based on your searches, age and gender. You can check your own one out if you search “Ad Settings” in Google and follow their support page. It’s kind of creepy because most people wouldn’t even realise this is being actively collected to create an advertising profile about you.</p><p>Facebook also have tons and tons of data on everyone. If you run a business and want to put out an ad, you can drill down into so many different demographics, it becomes clear how much data they store about each user, even if that user doesn’t opt to make it “public”. All of this data is so, so valuable. Not only because of the sheer quantity of it, but because of the quality of it as well. Having the ability to analyse trends based on sex, income, sexual orientation, age, job title is hugely valuable to companies when marketing their products. It’s also hugely valuable to governments looking to engage effectively with swing voter demographics.</p><p>Snapchat only recently launched their new feature which allows people to view themselves as well as their friends on a map, if they opt in. The other option is “Ghost Mode”, which keeps you invisible but allows you to see everyone else. Besides essentially creating a stalking function, it allows a user to get a different perspective of a place/event. The thing is every time the app opens your location is logged, regardless of whether you’re in Ghost Mode or not. So without doing much, Snapchat can quite easily build a profile of me, where I travel, my favourite snap locations/type of snaps and sell this on to advertising/marketing agencies. I snap a fair bit and somewhat accept it, reluctantly, but it does make you wonder what exactly is done with that location data.</p><p>Fitbit, the fitness company, collect so much data as well. They can quite quickly build profiles of users based on age, fitness level, the amount they exercise, what types of exercise, at which point users “give up”, pretty much anything logged on your tracker. This is so valuable to other marketing or fitness companies looking to push their products into the market.</p><h4>Data is good, though</h4><p>Tesla, for example, collect so much data based on the speed, rate of acceleration to the amount of pressure applied when a human brakes, all of these things can be used to further research and development into driverless cars. This data is what helps craft algorithms to optimise performance and to develop better, smarter driverless cars.</p><p>Netflix bases most of their business decisions on data, looking at trends of what users watch and then crafting assumptions with this data about what they think users want. This can be positive because, theoretically, we’d get more TV that we actually like and, so far, Netflix has a pretty awesome list of originals that just keeps growing. I remember someone mentioning at the AWS Summit that around 70% of shows that are watched on the platform are through recommendations. These recommendations are obviously generated from tons of user data to show you what you might like based on what other people, like you, enjoy watching.</p><p>Data is useful and can provide the end user with a better, overall experience. It’s vital to many businesses and helps further research and development to create better products for us, the consumer.</p><h4>Raising Awareness of Data Collection</h4><p>One of the things that needs to change, and is starting to, is raising some awareness around the topic. The UK is currently looking at introducing the Data Protection Law, basically the “Right to be forgotten”, which is, in theory, a great idea. Thing is, I don’t think anyone actually knows the true amount these social media giants hold on us. Ever shared an advert, meme, commented on something funny — that’s tracked and linked to build a profile about you, which is then sold on to advertises/business who try to sway you with their products. Even when I share this article on Twitter or Facebook, that’ll be tracked, linked and stored. People should be aware of how their information is being passed around, <a href="https://www.idc.com/getdoc.jsp?containerId=prUS41826116">it’s a multi-billion dollar economy</a> and is only growing year on year. Especially with the advances in AI and Machine Learning, data is getting bigger and better, so people should be aware of what’s being done with it, how it’s being used and at least have the option to reduce the amount of data being held on them.</p><h4>Understand before jumping to conclusions</h4><p>The choice is obviously yours whether you care or not, I don’t care what side of the argument you sit on. The point I’m trying to make here is that you should at least understand the context and information behind everything, before jumping to say it’s “too invasive” or that you simply “don’t care”. Data is only getting more important and, in my opinion, will form a large part of the economy in the future. So we should start now in understanding how it’s used and what exactly is being stored and gathered on each one of us.</p><p>We’re in a unique position in that we’ll be one of the first generations to have a digital data footprint from a relatively young age to whenever we die. That’s so valuable, imagine the analysis that can be done on such a large volume of data to learn more about social trends, economic trends, pretty much anything.</p><p>Personally, I think data is great, it helps us make better decisions and drives businesses forward. It just needs greater transparency.</p><p>Thanks for reading, hit 💚 if you like what you read and be sure to follow to keep up to date with future posts.</p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=b6967ceb542d" width="1" height="1"></p>
    
    <h3>Is Technology and Automation Slowly Killing Jobs?</h3>
    <p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*cH536JJL3BAWwGmvWm7CXQ.jpeg" /></figure><p><a href="http://www.cnbc.com/2017/02/20/mark-cuban-robots-unemployment-and-we-need-to-prepare-for-it.html">Mark Cuban recently spoke out about the importance to prepare for mass automation of the labour market</a>. This topic has slowly gathered pace over the last couple of months, but people still seem to have the same responses towards it. It won’t effect me. It won’t happen for ages. There will always be new job creation. However, there’s increasing evidence this could be happening a lot faster and sooner than we had previously thought.</p><h4>Are we sleepwalking into a potential economic crisis?</h4><p>Well, depending on who you talk to you’ll get a wide array of answers. I wouldn’t be so grim as to suggest it’s an economic disaster, but I certainly think it’s worth discussing and looking at because it poses a large risk to a number of jobs.</p><p>Some say it’s not an issue and there’ll be new job creation, I mean we’ve been through the industrial revolution so we’ll be fine, right? The argument here is that the advances in tech and the automation of jobs are currently happening at a pace that the labour market and economy can slowly adjust to. This is somewhat true and valid, but comparing the current situation to the industrial revolution isn’t really accurate.</p><p><a href="https://www.eventbrite.com/e/the-chatbot-conference-tickets-34868758395?aff=CBL">The Chatbot Conference</a></p><p>The environment is completely different. We’re storing volumes of data we’ve never been able to before. With more data, the ability to automate and find efficiencies in tasks becomes easier. We’re no longer confined by the power of a computer. Instead, the potential hurdles that face companies now can be the upfront capital or even the time taken to integrate a system. It’s not cheap or easy, but it’s certainly getting cheaper and easier year by year.</p><h4><strong>Are computers really that smart?</strong></h4><p>Yup. AI and Machine Learning is a growing and emerging market at the moment, mainly because we’re surrounded by data. Data is powerful and it’s what drives most things we use today.</p><p>One of the earliest implementations of AI/Machine Learning was training a computer to play chess, based on the moves of the world’s best players. It worked out all the possible moves based on historical data. This was the so called brute-force method, it would search all possible moves that could be made and make a decision based on a large data set. This lead to computers being able to beat even the best players in the world.</p><p>Now, however, thanks to advances in computational power and neuroscience, the computer can now model how the human brain works which lead to the creation of neural networks. So instead of using brute force, the computer essentially analyses each move whilst taking into account the state of the board and game instead of analysing all moves at once and choosing the best. It’s smarter and understands the positions of the other pieces as well as the context of the game. It learns and can adapt depending on the situation and environment. <a href="https://www.technologyreview.com/s/541276/deep-learning-machine-teaches-itself-chess-in-72-hours-plays-at-international-master/">MITs machine “Giraffe” taught itself within 72 hours to play at international master level.</a></p><p>I might have veered of topic here slightly, but the point I’m making is that computers are now powerful enough to model the human brain and are able to create these neural networks. This requires huge amounts of data, which we’re now able to gather, generate and store, so it’s almost the perfect recipe for AI/Machine Learning and automation. Don’t worry though, they’re not going to suddenly kill us all, we’ll be fine.</p><h4>What Jobs will be affected?</h4><p>Any job that follows a consistent routine and has a set of rules is vulnerable to automation. When I say routine, I mean routine in the sense it follows a set of orders. Roughly speaking, jobs that fit this description would be most office workers, bankers/insurance, receptionists, factory workers, most middle class workers really. The thing is computers are great at doing things that require rules or have a set routine.</p><p>However, anything that requires flexibility, think caring, nursing, anything creative, is still quite hard for a computer to do. There’s too many uncertainties involved, whereas data entry, answering the phone, verifying documents and packing boxes are all pretty routine things in that they follow a formula, which is what computers love.</p><h4>Why?</h4><p>Well, purely from a costs perspective it’s cheaper and more efficient. An employee costs £x per year, they get x amount of days off per year and they can be unreliable if they get sick, not to mention all the health and safety measures you have to abide by. Barring no big fuck ups, computers don’t get sick. You don’t need to give them a holiday. You don’t pay them a salary and can stick them in a dark room with no light. You just pay hosting costs of your servers and maintaining everything, which is a lot cheaper than employing a whole workforce.</p><p>You also end up removing human error from the equation. Think about it, if you take payment over the phone, it’s super un-secure, the telephone operator could incorrectly take your details down, they could enter an incorrect amount or steal your information. If you’re the one entering the payment details there’s no confusion, unless you fuck up your own details, your payment will be taken and your details will remain secure. It’s something so simple and easy to automate and all parties benefit, the customer’s information is secure and the company can focus on bigger picture projects.</p><h4><strong>Got any Examples?</strong></h4><p>I recently attended the AWS Summit in London, where one of the keynote speakers was Paul Clarke, the CTO of Ocado, the online grocer. He spoke about automation, big data and how they utilise cloud computing. He also discussed in detail about how t<a href="http://www.bbc.co.uk/news/av/business-38897417/the-ocado-warehouse-run-by-robots">here new warehouse is completely automated.</a> The warehouse is operated by a bunch of robots who navigate across a grid. An order comes in and the robots then find the most efficient way to pick and fill each order basket. From there the basket is packaged and moved to delivery. Pretty much a case study on how automation replaced a whole set of factory workers.</p><p><a href="https://www.civilserviceworld.com/articles/news/compulsory-redundancy-warning-dwp-confirms-750-jobs-go-jobcentre-closures">Another example, recently the DWP announced cuts that would effect up to 750 jobs.</a> The reason for this was down to a new online system replacing a part of what most office workers had done. 99% of Jobseekers allowance applications were being made using this system, as opposed to over the phone. This, I assume fairly straightforward web app, now replaces what office workers used to do over the phone, leaving parts of the workforce without a job.</p><p>The most obvious example that’s caught the headlines is driverless cars. This could replace taxi drivers, truck drivers, most transportation drivers really. This one I think has a bit of time though, the biggest issue here is not the robots, but the robots having to interpret human actions on the road. It’s very difficult to train a machine the ‘etiquette of the road’, because it’s something very human. If all cars were immediately replaced with their driverless counterparts, I think we’d be ok, because all would be able to communicate with each other, the issue arises when trying to predict erratic or unpredictable human behaviours. This is something that’s incredibly difficult to replicate, so for now I think we’ll have to cope with Uber for the drunken lift home.</p><h4>What’s the Solution?</h4><p>I’ve got no idea. It’s a big issue and I think we potentially need to be more prepared for the possibility of it. People need to be made aware so an open discussion can be had about it. At the end of the day trying to oppose it isn’t going to work, we need a solution that doesn’t leave people unemployed and without income.</p><p>I mean there’s a load of different avenues, universal income being one of them, but with each potential solution comes a host of other problems. I’m not advocating a universal income by any means, that model still has it’s flaws, but more time and effort needs to go into thinking about how the market can prepare for such an event.</p><p>Technology isn’t going away, it’s getting bigger, better and more advanced year on year, best to be prepared for all eventualities.</p><p>Thanks for reading, hit 💚 if you like what you read and be sure to follow to keep up to date with future posts.</p><iframe src="https://cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fupscri.be%2F8f5f8b%3Fas_embed%3Dtrue&amp;url=https%3A%2F%2Fupscri.be%2F8f5f8b&amp;image=https%3A%2F%2Fe.enpose.co%2F%3Fkey%3DdRXnS9Gplk%26w%3D700%26h%3D425%26url%3Dhttps%253A%252F%252Fupscri.be%252F8f5f8b%252F%253Fenpose&amp;key=a19fcc184b9711e1b4764040d3dc5c07&amp;type=text%2Fhtml&amp;schema=upscri" width="800" height="400" frameborder="0" scrolling="no"><a href="https://medium.com/media/c43026df6fee7cdb1aab8aaf916125ea/href">https://medium.com/media/c43026df6fee7cdb1aab8aaf916125ea/href</a></iframe><figure><a href="https://becominghuman.ai/artificial-intelligence-communities-c305f28e674c"><img alt="" src="https://cdn-images-1.medium.com/max/255/1*2f7OqE2AJK1KSrhkmD9ZMw.png" /></a></figure><figure><a href="https://upscri.be/8f5f8b"><img alt="" src="https://cdn-images-1.medium.com/max/255/1*v-PpfkSWHbvlWWamSVHHWg.png" /></a></figure><figure><a href="https://becominghuman.ai/write-for-us-48270209de63"><img alt="" src="https://cdn-images-1.medium.com/max/255/1*Wt2auqISiEAOZxJ-I7brDQ.png" /></a></figure><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=4d1febbdebd9" width="1" height="1"><hr><p><a href="https://becominghuman.ai/is-technology-and-automation-slowly-killing-jobs-4d1febbdebd9">Is Technology and Automation Slowly Killing Jobs?</a> was originally published in <a href="https://becominghuman.ai">Becoming Human</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p></p>
    
    <h3>Starting up — An Update</h3>
    <p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*mVgEXJMiOQR5W5mM6y7gHA.jpeg" /></figure><p>So it’s been almost 2 months since I originally posted about <a href="https://theascent.biz/starting-up-a-new-beginning-kind-of-32dc0a6b8f13">starting up</a> and I figured it was time f0r an update. I know I said this in my previous post, but the finer details will be reviled at a later date.</p><h3>Current Progress</h3><p>Currently we are preparing our marketing materials in order to hit our first marketing cycle. This includes everything from packs, to stickers, a website, social media, the whole lot of it. Everything is in place and we’re just tweaking a few bits. Thankfully websites are dead easy, even though it’s totally over kill for where we’re at, I’ve set everything up on AWS. I’ve distributed the site via Cloudfront and whacked an SSL certificate on it, so everything really is ready to go, just a few more cosmetic tweaks need to be made and we’ll be ready.</p><p>In terms of the app itself, the core functionality is pretty much there, the finer details are just being connected up and ironed out.</p><p>I thought it’d be useful to mention a few things that have worked and things that we could have done a little better over the last couple of months.</p><h4>Some things that have worked great</h4><h4><strong>Meeting Regularly</strong></h4><p>Having a scheduled weekly meeting is great, obviously we talk and work outside of this, but having a dedicated time to discuss and meet has helped so much. We’re both still working our day jobs, so finding time between this is important to make sure the company keeps momentum moving forward.</p><h4>Centralising Email Communication</h4><p>Centralising communication to one mailbox has helped massively, it means we’re always on the same page and ensures nothing gets missed. We obviously both have personal mailboxes, but if we’re communicating with a supplier or signing up to services like Stripe or Xero, it’s always good to use a mailbox that everyone (who needs to) can access. If I’m unreachable for whatever reason, someone can still access account details and if an important email comes in, everyone has visibility of it. It’s also nice for some of the people you’re both dealing with to have one mailbox to send to, as opposed to two or three separate ones where they’d have to remember to CC all the relevant people in each time.</p><h4>Following a Business Plan</h4><p>This has worked great, we’ve got visibility of all the deadlines as well as an outline of what needs to be done in each month leading up to the launch. It’s always good to have a plan with set targets, it gives you something to work towards, even if you miss certain targets you can adjust the plan to reflect this. If you’re anything like me, you’re going to forget something crucial like pushing the website live or you forget to order business cards, whatever it is it can be avoided following a plan with set deadlines and targets.</p><h4>Using Trello (or any other Project Management Tool)</h4><p>This is kind of obvious. But it’s important to use something that everyone can access and use. It gives visibility to what’s being worked on, outstanding tasks and also is a great place to communicate. If you’re not using this, or something similar, you really should be.</p><h4>Keeping a track of finances</h4><p>This has been one of our massive strengths, being able to accurately keep track of incomings and outgoings. It makes things so much easier when we ask “do we have money to do this?” If the finances are in order and everything is up to date, it makes running the company so much easier. Having these processes setup from the start means you can save time fiddling figures and spend more time focusing on what’s important, your product.</p><h3>Some things that we could’ve done better</h3><h4>Getting Started on Marketing a Little Earlier</h4><p>I wouldn’t say we’re behind on marketing by any means, but we’re a little later than we’d prefer to be. This is down to many reasons, including just generally being busy, somethings we physically haven’t been able to start on as we’re waiting on elements of the app to be complete. I guess we’ve done most things we can do, but I always prefer to be a little ahead of the game, so in terms of marketing, it’s never to early to start drafting your pack and corresponding materials.</p><h4>Actively Update and Iterate on the Original Wireframe</h4><p>I guess this is down to me, but the original wireframe I put together describes the app nicely but as some features grew and others faded, I neglected the original wireframe in favour of Trello cards. I recently did a post about User Flows, which is the direction we took. The UI/UX design phase had been completed, so for ease I chose to create a mind-map purely to demonstrate the <em>flow </em>through the app. This would include each screen as well as each action that can be taken from that screen, which left us with quite a nice map of the app. It means everyone is on the same page, but the biggest advantage, for me anyway, is to get a quick graphical snapshot as to what the app’s decision tree looks like.</p><h4>Sorting out and chasing up about issues earlier and more frequently</h4><p>This one lies with me and comes back to the fiasco with the bank. I still haven’t received my debit card after three branch visits and numerous calls. I chased regularly, but looking back there probably were a few delays on my part which could have been avoided. It doesn’t excuse the fact that there was a total fuck up on their side, because there was. The main thing is, if something needs to be done, do it. <strong>Don’t wait until you have to do it, just do it proactively.</strong></p><h4>Time-boxing meetings and discussions</h4><p>This is something I advocate massively, meetings are a waste of time because you’re talking and not doing. If you’re going to meet to make a decision or discuss something, timebox it. Force a resolution to it by the end and if there’s a deadlock, for whatever reason, then it may require further thought or work before that decision can be made. I fall guilty of talking too much about a feature or going off on a tangent and before I know it I’ve wasted 10 minutes discussing something which really didn’t need to be discussed at that time. So yeah, timebox your meetings and focus on keeping things direct, to the point and on topic.</p><p>This is just a snapshot into our experiences and obviously it’ll vary from company to company. In my opinion, the key to staying on top of everything is <a href="https://theascent.biz/organising-your-start-up-55c22383e0c">keeping organised</a>. Have regular meetings and keep an open and honest level of communication. Most importantly, though, don’t forget to have fun and enjoy the experience!</p><p>We’re getting closer day by day to our proposed launch, overall things are going very well and we’re very excited to share more with you soon.</p><p>Thanks for reading, hit 💚 if you like what you read and be sure to follow to keep up to date with future posts.</p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=ee2fb6680075" width="1" height="1"><hr><p><a href="https://theascent.pub/starting-up-an-update-ee2fb6680075">Starting up — An Update</a> was originally published in <a href="https://theascent.pub">The Ascent</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p></p>
    
    <h3>Creating User Flows</h3>
    <p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*LfbuYtihzNhWoK9P_s8MjQ.jpeg" /></figure><p>Recently I’ve been involved in planning and designing the app for <a href="https://theascent.biz/starting-up-a-new-beginning-kind-of-32dc0a6b8f13">our startup</a> as well as personal hobby projects. Something that came up during a recent discussion was planning the user’s journey through the app and creating a “user flow”, so I thought I’d share my process. I’m new to the whole design game, so if there’s stuff you don’t agree with, feel free to leave a comment and discuss.</p><h3>What is a “User Flow”?</h3><p>When building and planning your application, it’s important to understand a user’s journey through it from start to finish. User flows help plan out the route a user takes through your app and prompts you to think about all the different potential screens you may require.</p><p>What you’re trying to achieve in this process is a “smooth” as possible flow; I guess that’s why they call it flow right? You think of the word flow and you think of something consistent, clean and smooth, which is similar to the experience you’re trying to replicate. Even though each user may choose different routes, or “flows”, you want to be able to create a clean, efficient and fun experience for them when they’re using your app.</p><p>These “flows” can come in all shapes and sizes, whether it’s a diagram on a whiteboard, what I describe below, or even a set of Trello cards describing the journey.</p><h3>My process</h3><p>There’s always a lot of ways to do something and it’s important you find what works for you and what you’re most comfortable with. For me, I use an app called <a href="http://www.mindlyapp.com/">Mindly</a>, it’s designed as a mind mapping application, which works quite nicely when prototyping flows. I’m also more of a visual person so I find diagramming, either physically or using software, to be way more productive than long lists of bullet points. The advantage of presenting it visually is you can physically see the objects/screens and how each relates to each other.</p><p>Apologies for the laggy GIF in advance, but here’s an example of a super basic user flow diagram I mocked up in Mindly for a mobile app. Obviously it’s very simplified but each bubble represents a screen. Each screen also has notes attached to it describing important features or things to consider.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*zSb65UGzHuRzrYt32Tudcg.gif" /><figcaption>Basic Mindly Diagram for a Mobile App</figcaption></figure><p>This allows you to get a quick snapshot of a user’s journey through the application and also allows you to get a glance at what screens will need to be considered/designed. A problem I’ve faced in the past is even though you know your application and user stories inside out, there’s a good chance you’ll miss a screen somewhere or forget to implement an important function. By physically thinking and mapping out a journey the user takes, as well as all the possible options at each point of that journey, you get a good understanding of what’s required. It also helps when <a href="https://medium.com/@jameshamann/planning-an-application-from-idea-to-mvp-7ad9901f11a7">scoping out your MVP</a>, it gives you the chance to categorise what’s required and what can maybe be pushed back to the next release cycle.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*sxN4cUehwe5sl4geqG-MhQ.png" /><figcaption>Complete Mind Map for the Demo App</figcaption></figure><p><strong>Don’t over think it though and don’t spend too much time on it.</strong> Whilst it’s important to plan things, there’s a balance between planning and over planning. Your plan will change, your flow will adapt, you need to be agile and flexible to whatever changes may arise.</p><p>Thanks for reading, hit 💚 if you like what you read and be sure to follow to keep up to date with my future posts.</p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=5d11dbcae11" width="1" height="1"></p>
    
    <h3>Building your own Amazon Alexa</h3>
    <p><figure><img alt="" src="https://cdn-images-1.medium.com/max/630/1*r55OL-Z0kRAo2hvW1raZ1A.jpeg" /><figcaption>Amazon Alexa</figcaption></figure><p>Fairly recently I did a post on creating a <a href="https://medium.com/@jameshamann/building-a-smart-mirror-with-raspberry-pi-3-db906db42cd8">Smart Mirror</a>, after purchasing a microphone I’ve managed to create my own Alexa. It’s remarkably simple and easy to do.</p><p>I’ll assume you’ve got a Rasberry Pi, a USB microphone and an audio line out cable to connect up to your speaker. If you’ve got a bluetooth speaker, great because you can also use that.</p><h3>Getting Started</h3><p>Firstly you’re going to need to setup an<a href="https://developer.amazon.com/"> Amazon Developer account</a> if you don’t already have one, this will give you access to Alexa Voice Services (AVS).</p><p>Next you’re going to need to setup your device and create a security profile. When you log in hit the “Alexa” tab and you should be greeted with this page.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/926/1*4kTjSuMtsjUiuLFV5YEL4w.png" /></figure><p>After clicking the “Get Started” button under Alexa Voice Service, you’ll be asked to register a product. Be sure to choose <strong>Device</strong>.</p><p>You’ll then be prompted to fill in a few details.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*ZyOKgvjBnphMBXV_rYMSnQ.png" /></figure><p>The Device ID is a simple identifier for the product and the Display Name is what is displayed to users. After hitting next, you’ll be brought to the Security Profile Tab.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*NKyt_fErMSd7ao98iT0w5g.png" /></figure><p>You’ll be asked to enter the name and description of the profile. As the screenshot shows, I used the name “Alexa Voice Service Sample App Security Profile.” Creating this will generate you with a <strong>Client ID </strong>and <strong>Client Secret. </strong>Now hit the “Web Settings” tab, you’re going to need to add <a href="https://localhost:3000"><strong>https://localhost:3000</strong></a><strong> </strong>to Allowed Origins and <a href="https://localhost:3000/authresponse"><strong>https://localhost:3000/authresponse</strong></a><strong> </strong>to Allowed Return URLs.</p><p>Next you’ll be filling in the device details, the category you’ll choose would be “Other” and the image chosen for upload is only really for your reference, so it can be anything you like as the product we’re creating is for private use and isn’t going to be made available to the general public.</p><p>Last thing to do regarding the setup, would be to head over to <a href="https://developer.amazon.com/lwa/sp/overview.html">this link</a> and enable your security profile. Choose the one you created earlier, when prompted for a privacy policy URL, you can fake one like <a href="http://example.com">http://example.com</a>, then hit save. You’ll now have access to your Client ID and Client Secret, make a note of these or keep them safe as we’ll be using them in the next section.</p><h3>Setting up your Pi</h3><p>Now you’re ready to setup and install everything on your Pi. Open up the terminal, cd to a suitable place, Desktop for example, and clone the sample app.</p><pre>$ cd Desktop<br>$ git clone https://github.com/alexa/alexa-avs-sample-app.git</pre><p>Before running the install script, you’re going to need to set the Client ID, Secret and Device ID in the install script.</p><pre>$ nano automated_install.sh</pre><p>If you want a quick crash course on nano, head <a href="https://www.howtogeek.com/howto/42980/the-beginners-guide-to-nano-the-linux-command-line-text-editor/">hear</a>.</p><p>Copy and paste the values for the three fields above, then hit ctrl-x, y and then enter to save the changes.</p><p>Now you can run the install script which will install all dependancies, as well as two wake word engines Sensory and KITT.AI.</p><pre>$ cd Desktop/alexa-avs-sample-app<br>$ . automated_install.sh</pre><p>You’ll be prompted to answer a few yes/no questions and then the install will get started. This takes around 30–40 minutes, so time to grab a coffee and let it do it’s thing.</p><h3>Running Alexa</h3><p>Everything should now be installed and ready to run. Open two separate terminal windows.</p><p>In the first window you’re going to run the web service used to authenticate your app with AVS.</p><pre>// Terminal Window 1</pre><pre>$ cd ~/Desktop/alexa-avs-sample-app/samples<br>$ cd companionService &amp;&amp; npm start</pre><p>Your app should now be running on port 3000.</p><p>In the second terminal you’ll run the sample app that communicates with AVS.</p><pre>// Terminal Window 2</pre><pre>$ cd ~/Desktop/alexa-avs-sample-app/samples<br>$ cd javaclient &amp;&amp; mvn exec:exec</pre><p>When executing this command, you’ll get a pop up dialog box regarding authentication, click “Yes”, which will open the URL in your browser. When you arrive at the page, you may get a warning stating the connection is not private. To pass through this, click the “Advanced” button at the bottom and choose “Proceed to localhost (unsafe)”. You’ll then be prompted to login with your Amazon Developer credentials and agree to their terms and conditions. Once this is done, you’ll notice the browser will refresh and read “device tokens ready”. Head back to the desktop and hit “Ok” on the dialog box pop-up.</p><p>Now you’re ready to ask Alexa anything you like! You’ll have to hit the “listen” button in order for her to be woken up. If you’d prefer to initiate the wake word engine, which would allow you to say “Alexa” to “wake” her, then follow the next set of instructions.</p><h3>Setting up the Wake Word Engine</h3><p>The sample app comes with two wake word engines, Sensory and KITT.AI, for some reason Sensory did not work for me, but KITT.AI did, so I’ll suggest using that if your setup is the same as mine (Raspberry Pi 3 running Jessie). Enter the following command to initiate KITT.AI.</p><pre>// Terminal Window 3</pre><pre>$ cd ~/Desktop/alexa-avs-sample-app/samples<br>$ cd wakeWordAgent/src &amp;&amp; ./wakeWordAgent -e kitt_ai</pre><p>Once this is up and running just say “Alexa” and you’ll hear her audio cue that acknowledges she’s heard you.</p><p>And you’ve built yourself a working Alexa! If you ever wish to log out, just follow these <a href="https://github.com/alexa/alexa-avs-sample-app/wiki/Sample-App-Log-Out-Instructions">instructions</a>.</p><p>Also, if you’re setting this up as a standalone Alexa device, and not an add on to a Smart Mirror app, like I have, it may be worth looking at how to <a href="https://github.com/alexa/alexa-avs-sample-app/wiki/Setup-SSH-&amp;-VNC">setup SSH and VNC</a> so you can get rid of the monitor, keyboard and mouse.</p><h3>Further Configuration</h3><p>You’ll notice when using the wake word “Alexa” and asking her what time it is, she’ll default to her “Home” address in Seattle. To change this, I downloaded the <a href="https://play.google.com/store/apps/details?id=com.amazon.dee.app&amp;hl=en_GB">Amazon Alexa App</a>, logged in using my developer account credentials and was able to change all the settings from home address, to whether I preferred metric or imperial units and everything in between. You can also set your sports team, change your flash briefing and pretty much most things you can do on an Echo. However, annoyingly you can’t link her to Spotify or any music streaming service, she’ll only play radio, due to Amazon’s current policies. <a href="https://github.com/alexa/alexa-avs-sample-app/issues/735">Here’s</a> an example issue from github, but I’ve noticed a few of these dated as recent as a month ago, so it seems unlikely to change in the short term.</p><p>Other than that, she’s great. It’s still a bit gimmicky, but it’s kinda nice to be able to get out the shower and ask her for a flash briefing, check your schedule and what the weather is going to be like, without having to pick up a device.</p><p>In the future, I think it’d be pretty cool to develop your own skill and control other voice control connected devices using AWS IoT. Your device would pick up a command, authorise it, then send it through to the rules engine, which would interpret and route to the relevant AWS Services, whilst also sending the message through to your other connected application.</p><p>Basically what this diagram represents.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1000/1*nInaPvN6P6ngCvjPA8q1RQ.png" /></figure><p>The IoT sector is exciting and fast growing, so it’s always valuable and fun to get some experience in building something up yourself.</p><p>If you have any questions regarding the setup, or need any help, please do leave a comment or shoot me a message and I’d be happy to help!</p><p>Thanks for reading, hit 💚 if you like what you read and be sure to follow to keep up to date with my future posts.</p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=2500e5b6611f" width="1" height="1"></p>
    
  </ol>

  <hr class="post-list__divider ">

  

</div>

      </div>

      <footer class="footer">
  <span class="footer__copyright">&copy; 2017 James Hamann. All rights reserved.</span>
</footer> 

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script type="text/javascript" src="/js/main.js"></script>

    </div>
  </body>
</html>